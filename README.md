# Домашнее задание к занятию "Мультимедиа"

## Правила выполнения домашней работы:

* Все задачи обязательны к выполнению для получения зачета, кроме задач со звездочкой. Присылать на проверку можно каждую задачу по отдельности или все задачи вместе. Во время проверки по частям ваша домашняя работа будет со статусом "На доработке".
* При сдаче домашнего задания в поле для сдачи работы прикрепите ссылку на Pull Request с кодом на проверку внутри вашего проекта в Git.
* Любые вопросы по решению задач задавайте в чате Slack.

В домашнем задании используйте **[демонстрационный проект из лекции](https://github.com/netology-code/iosint-code/tree/main/12)**. Дополните его возможностями, которые указаны ниже и интегригрировать в ваше приложение клиент-приложения социальной сети.**

## Задание 1
На основе демо аудио-проекта реализуйте следующие функции:
* добавить кнопку "пауза" (В текущем проекте кнопка "стоп" работает как "пауза")
* кнопку "стоп" исправить и сделать из нее кнопку "стоп" (подсказка - время аудио должно быть 0)
* добавить лейбл с названием текущей песни
* в проект залить 5 аудио и создать кнопки переключения между ними
* добавить TableView с возможностью выбора разных видео с YouTube

## Задание 2* (со звездочкой)
* Добавить запись аудио в свой проект (в отдельный view)
* Добавить в проект кнопки: запись и воспроизведение
* Добавить верификацию “Согласие пользователя на доступ к микрофону”

# --- COMPLETED ---

# Домашнее задание к занятию "Собственные домены ошибок"

## Правила выполнения домашней работы:

* При сдаче домашнего задания в поле для сдачи работы прикрепите ссылку на Pull Request с кодом на проверку внутри вашего проекта в Git.
* Все задачи обязательны к выполнению для получения зачета, кроме задач со звездочкой. Присылать на проверку можно каждую задачу по отдельности или все задачи вместе. Во время проверки по частям ваша домашняя работа будет со статусом "На доработке".
* Любые вопросы по решению задач задавайте в чате Slack.

## Задание 1
1. Найти в вашем приложении места, где есть возможность неблагоприятного исхода и требуется сообщить пользователю об этом.
2. Создайте собственный домен ошибок (перечисление).
3. Добавьте в него случаи, которые могут быть.
4. Покажите пользователю Alert, уведомив его об ошибке.

## Задание 2
Примените тип `Result` для асинхронного вызова, обработайте результат через `switch`.

## Задание 3
Переделайте один из методов, который возвращает `nil` в неблагоприятном исходе, используя функцию, которая выбрасывает исключение в этом случае (`throws`).

## Задание 4*
Найдите место в вашей программе, где дальнейшее ее выполнение не имеет смысла, если определенное условие не выполнено, воспользуйтесь `preconditionFailure` и `guard`.

# ---

# Домашнее задание к занятию "Run Loop, таймеры"

## Правила выполнения домашней работы:

* Любые вопросы по решению задач задавайте в чате Slack (ссылку вы найдете в письме на вашей эл. почте).
* При сдаче домашнего задания в поле для сдачи работы прикрепите ссылку на Pull Request с кодом на проверку внутри вашего проекта в Git.

## Задание 1
Иногда возникает задача вывести какую-то информацию пользователю через определенный промежуток времени. Например, напомнить ему о том, что он находится в приложении слишком долго и следует дать отдохнуть глазам, если мы заботимся о здоровье пользователя. Либо запускать какую-либо анимацию через определенный промежуток времени.

Подумайте, какие задачи можно выполнить в вашем приложении, не сразу, а через некоторое время. Напишите ваши варианты.

## Задание 2
Используйте таймер для отображения оставшегося времени пользователю до следующего обновления информации на экране.

# ---

# Домашнее задание к занятию "Operation, OperationQueue, GCD"

## Правила выполнения домашней работы:

* Продолжаем работать с проектом VK. * При сдаче домашнего задания в поле для сдачи работы прикрепите ссылку на Pull Request с кодом на проверку внутри вашего проекта в Git.
* Любые вопросы по решению задач задавайте в чате Slack.


## Задание

Сегодня предлагаем вам побывать в роли хакера: вам нужно восстановить пароль в вашем проекте VK с помощью подбора.

1. Для подбора пароля создайте отдельный класс, в котором реализуйте метод подбора <code>bruteForce</code>. [Подсказка - как реализовать Brut Force](https://github.com/netology-code/iosint-homeworks/blob/iosint-3/6/Brut%20Force.zip)

2. Разместите на вашем экране авторизации кнопку "Подобрать пароль". При нажатии на кнопку у вас будет генерироваться случайный пароль из цифр, строчных и заглавных латинских букв. Далее с помощью метода подбора <code>bruteForce</code>, подберите сгенерированный пароль.

3. Во время подбора пароля, рядом с полем password должен работать <code>activityIndicator</code>, любые действия с UI не должны блокироваться. Для этого вы должны осуществлять подбор пароля не в главном потоке, используя Operation или GCD.  

4. По окончании подбора нужно вывести пароль в поле password, сделав его <code>isSecureTextEntry = false</code>, остановить работу <code>activityIndicator</code> и  скрыть его.

# ---

# Домашнее задание к занятию "Асинхронная разработка. Многопоточность".

## Правила выполнения домашней работы:

* При сдаче домашнего задания в поле для сдачи работы прикрепите ссылку на Pull Request с кодом на проверку внутри вашего проекта в Git.
* Любые вопросы по решению задач задавайте в чате Slack.

## Задание

Вы продолжаете работать с проектом VK, где уже есть коллекции и таблицы для отображения массивов `UIImage`
В знакомом вам пакете [iOSIntPackage](https://github.com/TrueMax/iOSIntPackage/releases/tag/v3.2.3), в `ImageProcessor` появился новый метод: `processImagesOnThread`

1. Установите пакет или обновите его до последней версии: 3.2.3.
2. Назначьте для любой коллекции `UICollectionView` в качестве `dataSource` массив изображений.
3. Передайте методу пакета массив исходных изображений.
4. Вызовите метод несколько раз с различными значениями параметра `qos: QualityOfService` и разными исходными параметрами: массивом входящих изображений и выбранным фильтром обработки.
5. Откройте DebugNavigator, чтобы наблюдать количество задействованных потоков в каждом случае.
6. Засеките время исполнения для каждого вызова метода `processImagesOnThread` с разной комбинацией параметров, запишите в комментарии.
7. Если поймаете ошибку `Main Thread Checker`, исправьте её.

# ---

# Домашнее задание к занятию "Архитектурные паттерны. MVP. MVVM. Координаторы"

## Правила выполнения домашней работы:

* Домашнее задание предполагает, что навигация в приложении осуществляется без `storyboard`. Совмещение `storyboard` для инициализации контроллеров с деревом координаторов несколько усложнит работу. Оценивайте свои силы здраво.
Первый вариант - перевести приложение `Navigation` целиком на UI в коде, без `storyboard`.
Второй вариант - использовать протокол `Storyboarded`.

* Присылать на проверку можно каждую задачу по отдельности или все задачи вместе. Во время проверки по частям ваша домашняя работа будет со статусом "На доработке".
* Любые вопросы по решению задач задавайте в чате Slack (ссылку вы найдете в письме на вашей эл. почте).

## Оформление результата:

[Инструкция по использованию Pull Request для сдачи дз](https://github.com/netology-code/iosint-homeworks/blob/main/Pull%20request's%20guideline.md)

## Задача 1

Постройте навигацию через координаторы

1. Начните с корневого узла дерева координаторов: он соответствует базовому уровню навигации приложения, `UITabBarController`
2. Базовый координатор будет знать о дочерних координаторах каждого dataflow: Profile, Feed и тд
3. На первом этапе у контроллера будет `weak` ссылка на координатор
4. Обратная связь controller -> coordinator через замыкания

## Задача 2

Подключите к навигатору полноценный модуль MVP или MVVM

1. Создайте отдельную фабрику или фабричный протокол с методом. На протокол можно подписать координатор. Фабрика или фабричный метод будут создавать модули.
2. Логику создания модулей храните непосредственно в координаторе или фабрике. Для этого подойдет `enum`
3. На ваш выбор создайте модуль на базе любого контроллера, его тоже можно оформить протоколом. Состав модуля: MVP (Presenter + ViewController) или MVVM (ViewModel + ViewController)
4. Координатор будет добавлять модули на экран с помощью метода `.push...` своего `UINavigationController` и убирать их с помощью метода `.pop...`
5. В отличие от первой задачи ссылка на координатор должна быть уже у `Presenter` или `ViewModel` для передачи данных в обоих направлениях: к модулю и от него.

# ---

# Домашнее задание к занятию 5 	Структурные паттерны: Observer, Facade

## Правила выполнения домашней работы:

* Базовый проект для выполнения домашней работы - последний проект с домашней работой курса iOSUI, где присутствуют PhotosViewController и UICollectionView.
* Все задачи обязательны к выполнению для получения зачета, кроме задач со звездочкой. Присылать на проверку можно каждую задачу по отдельности или все задачи вместе. Во время проверки по частям ваша домашняя работа будет со статусом "На доработке".
* Любые вопросы по решению задач задавайте в чате Slack (ссылку вы найдете в письме на вашей эл. почте).

## Оформление результата:

[Инструкция по использованию Pull Request для сдачи дз](https://github.com/netology-code/iosint-homeworks/blob/main/Pull%20request's%20guideline.md)

## Задача

1. Установить через меню `File` в проект Swift Package по ссылке [Учебный Swift Package](https://github.com/TrueMax/iOSIntPackage)
2. Во время установки выбрать во второй строке `branch == imagepublisher`
3. В ветке `imagepublisher` лежит последний релиз пакета с папкой `ImagePublisher`, если после установки вы не увидели эту папку в пакете, значит, случайно установили пакет из ветки `main`, и нужно удалить текущую версию пакета и установить заново из правильной ветки `imagepublisher`
4. Подписать класс, который является UICollectionViewDatasource, на протокол `ImageLibrarySubscriber` и реализовать его единственный метод
5. Создать экземпляр `ImagePublisherFacade`
6. Изучить его интерфейс - кнопка "4 квадратика" слева вверху над кодом, далее "Counterparts" -> ... (Interface)
7. Подписать текущий класс на изменения
8. Запустить сценарий выполнения публикации с помощью дефолтной реализации метода `addImagesWithTimer` или добавить свой массив фото в этот метод
9. Где-то в подходящем методе отменить подписку, можно обнулить коллекцию фото по желанию
10. Основная задача: с помощью штатных методов UICollectionView (`reloadData()` и тп) заполнить коллекцию фотографиями из вашего массива или библиотеки `Images`
11. Рекомендация: количество повторений `RepeatCount` ставить от 10 и больше, чтобы вся коллекция заполнилась фото

# ---

# Домашнее задание к занятию 4 	Структурные паттерны: Delegate, Singleton, Factory

## Правила выполнения домашней работы:

* Базовый проект для выполнения домашней работы - последний проект с домашней работой курса iOSUI, где присутствуют LoginViewController + FeedViewController.
* Все задачи обязательны к выполнению для получения зачета, кроме задач со звездочкой. Присылать на проверку можно каждую задачу по отдельности или все задачи вместе. Во время проверки по частям ваша домашняя работа будет со статусом "На доработке".
* Любые вопросы по решению задач задавайте в чате Slack (ссылку вы найдете в письме на вашей эл. почте).

## Оформление результата:

[Инструкция по использованию Pull Request для сдачи дз](https://github.com/netology-code/iosint-homeworks/blob/main/Pull%20request's%20guideline.md)

## Задача 1: Паттерны проектирования Delegate + Singleton

1. Создаем сервис для проверки логина и пароля `Checker` или любым другим названием, у сервиса (это Singleton) будет 1 __интерфейсный метод__ для проверки логина и пароля
2. Пусть свойства (логин и пароль) существуют, для начала, в hardcode виде, по выбору студента (`private let login = "Vasily", private let pswd = "StrongPassword"` и тд). Важно, что свойства __приватные__.
Дополнительная задача* (со звездочкой, необязательная): можно проверять не значения свойств напрямую, а сгенерированный hash. Для этого достаточно вызвать у строки библиотечный метод Swift* `МояСтрока.hash` Проверка хэша - необязательное условие, ДЗ будет принято, как обычно, если будет проверяться plain String.
3. Для `LoginViewController` прописываем протокол делегата `LoginViewControllerDelegate`. Метод делегата проверяет значения, введенные в 2 `UITextField` контроллера. Напрямую вызывать из контроллера сервис `Checker` нельзя!
4. Создаем произвольный класс/структуру `LoginInspector` (или придумайте свое название), который подписывается на протокол `LoginViewControllerDelegate`, реализуем в нем протокольный метод.
5. `LoginInspector` проверяет точность введенного пароля с помощью синглтона `Checker`.
6. Важный момент: чтобы делегат мог сообщить контроллеру результат проверки логина и пароля, методы протокола делегата будут содержать возвращаемое значение
7. Внедрите зависимость контроллера от `LoginInspector`, то есть присвойте значение свойству делегата в `SceneDelegate` или `AppDelegate`

Для доступа к контроллерам в коде воспользуйтесь штатным `SceneDelegate` и его стандартным методом. Или `AppDelegate`, если кто-то ранее избавился от `SceneDelegate`. С UI тоже возможны варианты: проще всего будет тем, кто использует верстку кодом. Вариант, как добраться до контроллеров через Storyboard, ниже:

```
func scene(_ scene: UIScene, willConnectTo session: UISceneSession, options connectionOptions: UIScene.ConnectionOptions) {

        guard let _ = (scene as? UIWindowScene) else { return }

        // инициализация LoginInspector

        if let tabController = window?.rootViewController as? UITabBarController, let loginNavigation = tabController.viewControllers?.last as? UINavigationController, let loginController = loginNavigation.viewControllers.first as? LogInViewController {
            loginController.delegate = // экземпляр LoginInspector
        }
    }
```

## Задача 2:

1. Создайте `protocol LoginFactory` с 1 методом без параметров, который возвращает `LoginInspector`.
2. Вынесите генерацию `LoginInspector` из `SceneDelegate (или AppDelegate)` в фабрику: создайте объект `MyLoginFactory` (название на ваше усмотрение), подпишите на протокол.
3. Инициализируйте в `SceneDelegate / AppDelegate` только фабрику .
4. Внедрите зависимость контроллера от `LoginInspector`, создав инспектора с помощью фабричного метода.

# ---

# Домашнее задание к занятию "Внедрение зависимостей в iOS"

## Правила выполнения домашней работы:

* Базовый проект для выполнения домашней работы - последний проект с домашней работой курса iOSUI, где присутствуют LoginViewController + FeedViewController
* При сдаче домашнего задания в поле для сдачи работы прикрепите ссылку на Pull Request с кодом на проверку внутри вашего проекта в Git.
* Все задачи обязательны к выполнению для получения зачета, кроме задач со звездочкой. Присылать на проверку можно каждую задачу по отдельности или все задачи вместе. Во время проверки по частям ваша домашняя работа будет со статусом "На доработке".
* Любые вопросы по решению задач задавайте в чате Slack (ссылку вы найдете в письме на вашей эл. почте).

## Задача

1. Добавить класс User для хранения информации о пользователе: полное имя, аватар, статус.
2. Добавить протокол `UserService` с функцией, которая принимает имя пользователя и возвращает объект класса `User`.
3. Добавить класс `CurrentUserService`, который поддерживает протокол `UserService`. Класс должен хранить объект класса `User` и возвращать его в реализации протокола, если переданное имя соответствует имени пользователя.
4. В классе `ProfileViewController` добавить свойство с типом UserService и инициализатор, который принимает объект `UserService` и имя пользователя, введённое на экране `LogInViewController`. При инициализации объекта `ProfileViewController` передать объект `CurrentUserService`.
5. В классе `ProfileViewController` добавить получение пользователя из объекта `UserService` и отображение информации из объекта `User`.
6. Добавить класс `TestUserService`, который поддерживает протокол `UserService`. Класс должен хранить объект класса `User` с тестовыми данными и возвращать его в реализации протокола.
7. При инициализации объекта `ProfileViewController` добавить проверку Debug сборки с помощью флага компиляции `#DEBUG` и передавать объект `TestUserService`. Для Release сборок оставить передачу объекта `CurrentUserService`.

# ---

# Домашнее задание к занятию "Менеджеры зависимостей"

В рамках домашней работы мы научимся использовать внешние зависимости с помощью менеджеров зависимостей Cocoapods и Swift Package Manager.

## Правила выполнения домашней работы

* Домашнее задание выполняется на базе проекта для Вконтакте. Изучите [инструкцию](https://github.com/netology-code/iosint-homeworks/blob/main/Pull%20request's%20guideline.md) по сдаче домашних заданий через Pull Request. В поле для сдачи работы прикрепите ссылку на ваш проект на Github.
* Все задачи обязательны к выполнению для получения зачета, кроме задач со звездочкой. Присылать на проверку можно каждую задачу по отдельности или все задачи вместе. Во время проверки по частям ваша домашняя работа будет со статусом "На доработке".
* Любые вопросы по решению задач задавайте в чате Slack.

## Задача 1

1. Добавьте зависимость [SnapKit](https://github.com/SnapKit/SnapKit) через Cocoapods. Используйте последнюю версию библиотеки.
2. Перепишите вёрстку класса `ProfileHeaderView` при помощи SnapKit.

## Задача 2

1. Установите зависимость [iOSIntPackage](https://github.com/TrueMax/iOSIntPackage) через Swift Package Manager. Используйте последнюю версию библиотеки.
2. С помощью класса `ImageProcessor` добавьте различные фильтры для картинок, которые отображаются в постах.

# ---

# Домашнее задание к занятию "Структура проекта и жизненный цикл приложения"

В рамках домашней работы мы научимся создавать отдельные таргеты в Xcode проекте, подключать и использовать внутренние библиотеки и использовать флаги компиляции.

## Правила выполнения домашней работы

* Домашнее задание выполняется на базе проекта для Вконтакте. Изучите [инструкцию](https://github.com/netology-code/iosint-homeworks/blob/main/Pull%20request's%20guideline.md) по сдаче домашних заданий через Pull Request. В поле для сдачи работы прикрепите ссылку на ваш проект на Github.
* Все задачи обязательны к выполнению для получения зачета, кроме задач со звездочкой. Присылать на проверку можно каждую задачу по отдельности или все задачи вместе. Во время проверки по частям ваша домашняя работа будет со статусом "На доработке".
* Любые вопросы по решению задач задавайте в чате Slack.

## Задача 1
1. Добавить новый таргет из шаблона Framework с названием StorageService.
2. Перенести в таргет StorageService файлы StorageService и Post. Эти файлы не должны быть добавлены в таргет основного приложения.
3. Добавить с проект необходимые модификаторы доступа `public` и импорты фреймворка StorageService для успешного запуска проекта.

## Задача 2
1. Создать дубликат текущей схемы проекта, настроить запуск приложения с Release конфигурацией.
2. На экране `ProfileViewController` настроить разный цвет фона для Debug и Release сборки с помощью флага компиляции DEBUG.
3. Запустить обе схемы и проверить, что цвет фона меняется.
